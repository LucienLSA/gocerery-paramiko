Name: gocerery-api
Host: ${REST_HOST:0.0.0.0}
Port: ${REST_PORT:8888}

# 跳板机配置
Bastion:
  Host: ${BASTION_HOST:}
  Port: ${BASTION_PORT:22}
  User: ${BASTION_USER:}
  Password: ${BASTION_PASSWORD:}

Targets: []   # 推荐在 API 请求中动态传入，如需常量可同样使用环境变量占位符

Executor:
  Script: ./scripts/ssh_executor.py
  UploadScript: ./scripts/ssh_uploader.py
  Concurrency: 3
  TimeoutSeconds: 120

Celery:
  Broker: ${CELERY_BROKER:redis://127.0.0.1:6379/0}
  Backend: ${CELERY_BACKEND:redis://127.0.0.1:6379/0}
  TaskName: ${CELERY_TASK_NAME:tasks.execute_ssh}
  UploadTaskName: ${CELERY_UPLOAD_TASK_NAME:tasks.upload_file}
  Workers: ${CELERY_WORKERS:2}

# Worker 日志配置
WorkerLog:
  ServiceName: gocerery-worker
  Mode: file                    # file: 文件模式, console: 控制台模式, volume: 卷模式
  Path: logs                    # 日志文件路径（Mode=file 时生效）
  Level: info                   # debug, info, error
  Compress: true                # 是否压缩日志文件
  KeepDays: 7                   # 日志保留天数
  StackCooldownMillis: 100      # 堆栈冷却时间（毫秒）
